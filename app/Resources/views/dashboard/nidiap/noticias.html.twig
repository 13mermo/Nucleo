{% extends '/dashboard/template.html.twig' %}

{% block title %}NIDIAp Noticias{% endblock %}

{% block body %}

    <div class="fundo">
        <h1>Todas as Noticias</h1>

        {% if noticias is not empty %}
            <table class="table table-hover">
                <thead class="thead-light">
                <tr>
                    <th>Img</th>
                    <th>Titulo</th>
                    <th>Autor</th>
                    <th>Descrição</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                {% for noticia in noticias %}
                    <tr>
                        <td> <img src="{{ asset('upload/imagens/' ~ noticia.imagem.imageName)}}" height="50" width ="50px"></td>
                        <td class="crr">{{ noticia.title | slice(0, 25)}}</td>
                        <td class="crr">{{ noticia.autor }}</td>
                        <td class="crr">{{ noticia.descricao | slice(0, 25) }}</td>
                        <td class="crr" style="float: right">
                            <a class="btn btn-danger" href="{{ path('delete_noticia', {'id': noticia.id}) }}">Deletar</a>
                            <a class="btn btn-success" href="{{ path('update_noticia', {'id': noticia.id}) }}">Atualizar</a>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>Sem Noticias no momento.</p>
        {% endif %}

        <br/>
        <a class="btn btn-success" href="{{ path('create_noticia') }}">Nova Noticia</a>

    </div>

{% endblock %}

{% block javascripts %}
    {{ parent() }}

{% endblock %}
